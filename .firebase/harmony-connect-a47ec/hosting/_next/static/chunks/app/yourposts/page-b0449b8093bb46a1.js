(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[90],{7944:function(e,r,s){Promise.resolve().then(s.bind(s,6497))},6497:function(e,r,s){"use strict";s.r(r);var n=s(7437),t=s(2265),i=s(4086),l=s(994),c=s(3085),o=s(4938),a=s.n(o);let d=(0,l.ZF)({apiKey:"AIzaSyAYlyB4ppiTZJ4PIeCHrg7FRGN9wQDP8n4",authDomain:"harmony-connect-a47ec.firebaseapp.com",projectId:"harmony-connect-a47ec",storageBucket:"harmony-connect-a47ec.appspot.com",messagingSenderId:"998376996522",appId:"1:998376996522:web:19d25511bc569c60d41ad3",measurementId:"G-4QCHFQL992"}),h=(0,i.ad)(d),u=(0,c.v0)(d);r.default=()=>{let[e,r]=(0,t.useState)(null),[s,l]=(0,t.useState)(!0),[o,d]=(0,t.useState)(null),[m,p]=(0,t.useState)(null),[x,j]=(0,t.useState)([]),f=e=>{j(r=>{let s=[...r];return s[e].showComments=!s[e].showComments,s})};return(0,t.useEffect)(()=>{let e=(0,c.Aj)(u,async e=>{if(e){r(e);try{l(!0),d(null);let r=(0,i.IO)((0,i.hJ)(h,"users"),(0,i.ar)("email","==",e.email)),s=await (0,i.PL)(r);if(s.empty)d("User not found."),p(null);else{let e=s.docs[0].data();console.log("Retrieved user data:",e),p(e)}}catch(e){console.error("Error retrieving user data:",e),d("An error occurred while retrieving user data.")}finally{l(!1)}}else r(null),p(null),l(!1)});return()=>{e()}},[u,h]),(0,t.useEffect)(()=>{if(m){let e=async()=>{try{l(!0),d(null);let e=(0,i.IO)((0,i.hJ)(h,"posts"),(0,i.ar)("userEmail","==",m.email)),r=await (0,i.PL)(e),s=[];r.forEach(e=>{let r=e.data();console.log("Retrieved user-specific post data:",r),s.push(r)}),console.log("All User-Specific Post Data:",s),j(s)}catch(e){console.error("Error retrieving user posts:",e),d("An error occurred while retrieving user posts.")}finally{l(!1)}};e()}},[h,m]),(0,t.useEffect)(()=>{if(x.length>0){let e=async()=>{try{l(!0),d(null);let e=(0,i.IO)((0,i.hJ)(h,"comments")),r=await (0,i.PL)(e),s=[];r.forEach(e=>{let r=e.data();s.push(r)});let n=x.map(e=>{let r=s.filter(r=>r.postId===e.text);return{...e,comments:r}});j(n)}catch(e){console.error("Error retrieving comments:",e),d("An error occurred while retrieving comments.")}finally{l(!1)}};e()}},[h,x]),(0,n.jsxs)("div",{className:a().vectorParent,children:[o&&(0,n.jsxs)("p",{children:["Error: ",o]}),m&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"Your account"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{children:m.name}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:"gmail:"}),(0,n.jsx)("span",{children:m.email})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:"username:"}),(0,n.jsx)("span",{children:m.username})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:"bio:"}),(0,n.jsx)("span",{children:m.bio})]}),(0,n.jsx)("img",{alt:"",src:m.profilePicture})]})]}),(0,n.jsxs)("div",{children:[o&&(0,n.jsxs)("p",{children:["Error: ",o]}),(0,n.jsx)("div",{children:x.map((e,r)=>{var s;return(0,n.jsxs)("div",{children:[(0,n.jsxs)("h2",{children:["Post ",r+1]}),(0,n.jsxs)("p",{children:["the encoded data: ",e.text]}),(0,n.jsxs)("p",{children:["Genre: ",e.genre]}),(0,n.jsxs)("p",{children:["Uploaded on: ",null===(s=e.timestamp)||void 0===s?void 0:s.toDate().toLocaleString()]}),(0,n.jsx)("img",{alt:"",src:e.downloadURL}),(0,n.jsxs)("h1",{children:[" caption: ",e.caption]}),(0,n.jsxs)("p",{children:["like count :",e.superlikesCount]}),(0,n.jsxs)("p",{children:["communityid:",e.communityId]}),(0,n.jsx)("button",{onClick:()=>f(r),children:e.showComments?"Hide Comments":"Show Comments"}),e.showComments&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:"Comments:"}),e.comments&&e.comments.map((e,r)=>(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{children:["Comment ",r+1]}),(0,n.jsxs)("p",{children:["Text: ",e.text]})]},r))]})]},r)})})]})]})}},4938:function(e){e.exports={vectorParent:"page_vectorParent__B33ed"}}},function(e){e.O(0,[358,214,647,971,596,744],function(){return e(e.s=7944)}),_N_E=e.O()}]);